"use strict";(self.webpackChunkflatUnity=self.webpackChunkflatUnity||[]).push([[73],{9073:(Pt,Z,m)=>{m.r(Z),m.d(Z,{AdminModule:()=>Nt});var d=m(6814),s=m(6223),g=m(649),t=m(5879),_=m(9229),f=m(3072);let y=(()=>{var e;class i{constructor(n,r,a,l){this.fb=n,this.router=r,this.toastr=a,this.adminservice=l,this.password="",this.hidePassword=!0,this.submit=!1,this.adminToken="",this.adminForm=this.fb.group({username:["",[s.kI.required,s.kI.minLength(2)]],password:["",[s.kI.required,s.kI.minLength(6)]]})}ngOnInit(){}togglePasswordVisibility(){this.hidePassword=!this.hidePassword}usernameError(){const n=this.adminForm.get("username");if(!n?.valid){if(n?.hasError("required"))return"Username required";if(n?.hasError("minlength"))return"Minimum length of username is two"}}passwordError(){const n=this.adminForm.get("password");if(!n?.valid){if(n?.hasError("required"))return"Password required";if(n?.hasError("minlength"))return"Minimum length of password is six";if(n?.hasError("pattern"))return"Pattern does'nt match"}}onSubmit(){if(this.adminForm.valid)this.submit=!0,this.adminLogin();else{if(this.usernameError())return void this.toastr.warning(this.usernameError(),"",{timeOut:1e3,progressAnimation:"increasing",progressBar:!0});this.passwordError()&&this.toastr.warning(this.passwordError(),"",{timeOut:1e3,progressAnimation:"increasing",progressBar:!0})}}adminLogin(){this.adminservice.adminLogin(this.adminForm.value).subscribe(n=>{this.toastr.success(n.message,"Success",{timeOut:2e3,progressAnimation:"increasing",progressBar:!0}),this.adminToken=n.adminToken,localStorage.setItem("adminToken",this.adminToken),this.router.navigate(["/admin/adminhome"])},n=>{this.toastr.error(n.error.message,"Error",{timeOut:2e3,progressAnimation:"increasing",progressBar:!0})})}}return(e=i).\u0275fac=function(n){return new(n||e)(t.Y36(s.qu),t.Y36(g.F0),t.Y36(_._W),t.Y36(f.m))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin-login"]],decls:39,vars:4,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["href","https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css","rel","stylesheet"],[1,"bg-gray-100","flex","items-center","justify-center","h-screen"],[1,"flex","flex-col","items-center"],[1,"font-bold","text-black-500"],[1,"font-bold","text-violet-500"],[1,"flex","items-center"],[1,"h-1/2"],["src","../assets/images/usersStanding.png","alt","jhbhgcdgxdfsasSDz",1,"h-72"],[1,"bg-white","p-8","shadow-md","rounded-lg","w-96","flex","flex-col","items-center"],[1,"text-2xl","font-semibold","text-gray-500","mb-4"],[1,"w-full",3,"formGroup","ngSubmit"],[1,"mb-4"],["for","username",1,"block","text-gray-700","text-sm","font-bold","mb-2"],["id","username","type","text","placeholder","Username","formControlName","username",1,"appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline","focus:border-purple-500"],[1,"mb-6"],["for","password",1,"block","text-gray-700","text-sm","font-bold","mb-2"],[1,"relative"],["id","password","placeholder","Password","formControlName","password",1,"appearance-none","border","rounded","w-full","py-2","px-3","text-gray-700","leading-tight","focus:outline-none","focus:shadow-outline","focus:border-purple-500",3,"type","ngModel","ngModelChange"],[1,"absolute","right-0","top-0","mt-2","mr-3","text-cyan-700","text-sm","font-bold"],[3,"click"],[1,"flex","items-center","justify-between"],["type","submit",1,"bg-green-500","hover:bg-green-600","text-white","font-bold","py-2","px-4","rounded","focus:outline-none","focus:shadow-outline"],["href","",1,"inline-block","align-baseline","font-bold","text-sm","text-green-500","hover:text-green-600"]],template:function(n,r){1&n&&(t.TgZ(0,"html",0)(1,"head"),t._UZ(2,"meta",1)(3,"meta",2),t.TgZ(4,"title"),t._uU(5,"Login"),t.qZA(),t._UZ(6,"link",3),t.qZA(),t.TgZ(7,"body",4)(8,"div",5)(9,"div")(10,"h2")(11,"span",6),t._uU(12,"flat"),t.qZA(),t.TgZ(13,"span",7),t._uU(14,"Unity"),t.qZA()()(),t.TgZ(15,"div",8)(16,"div",9),t._UZ(17,"img",10),t.qZA(),t.TgZ(18,"div",11)(19,"h2",12),t._uU(20,"Admin Login"),t.qZA(),t.TgZ(21,"form",13),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(22,"div",14)(23,"label",15),t._uU(24,"Username"),t.qZA(),t._UZ(25,"input",16),t.qZA(),t.TgZ(26,"div",17)(27,"label",18),t._uU(28,"Password"),t.qZA(),t.TgZ(29,"div",19)(30,"input",20),t.NdJ("ngModelChange",function(l){return r.password=l}),t.qZA(),t.TgZ(31,"div",21)(32,"button",22),t.NdJ("click",function(){return r.togglePasswordVisibility()}),t._uU(33),t.qZA()()()(),t.TgZ(34,"div",23)(35,"button",24),t._uU(36," Login "),t.qZA(),t.TgZ(37,"a",25),t._uU(38,"Forgot Password?"),t.qZA()()()()()()()()),2&n&&(t.xp6(21),t.Q6J("formGroup",r.adminForm),t.xp6(9),t.s9C("type",r.hidePassword?"password":"text"),t.Q6J("ngModel",r.password),t.xp6(3),t.hij(" ",r.hidePassword?"Show":"Hide"," "))},dependencies:[s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&family=Ubuntu&display=swap";*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}']}),i})();var A=m(7509),p=m(2169),c=m(6053),h=m(8413);function T(e,i){1&e&&(t.TgZ(0,"td",14),t._uU(1,"Flat Owner"),t.qZA())}function U(e,i){1&e&&(t.TgZ(0,"td",14),t._uU(1,"Looking for flat/flatmate"),t.qZA())}function k(e,i){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,o.subscriptionStarts,"mediumDate"))}}function q(e,i){1&e&&(t.TgZ(0,"td",14),t._uU(1,"Not Subscribed"),t.qZA())}function C(e,i){if(1&e&&(t.TgZ(0,"td",14),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,o.subscriptionEnds,"mediumDate"))}}function F(e,i){1&e&&(t.TgZ(0,"td",14),t._uU(1,"Not Subscribed"),t.qZA())}function I(e,i){1&e&&(t.TgZ(0,"button",19),t._uU(1,"Block"),t.qZA())}function N(e,i){1&e&&(t.TgZ(0,"button",20),t._uU(1,"Unblock"),t.qZA())}function O(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"tr")(1,"td",14),t._uU(2),t.qZA(),t.TgZ(3,"td",14),t._uU(4),t.qZA(),t.YNc(5,T,2,0,"td",15),t.YNc(6,U,2,0,"td",15),t.YNc(7,k,3,4,"td",15),t.YNc(8,q,2,0,"td",15),t.YNc(9,C,3,4,"td",15),t.YNc(10,F,2,0,"td",15),t.TgZ(11,"td",14)(12,"div",16),t.NdJ("click",function(){const a=t.CHM(o).$implicit,l=t.oxw(2);return t.KtG(l.unBlockUser(a._id))}),t.YNc(13,I,2,0,"button",17),t.YNc(14,N,2,0,"button",18),t.qZA()()()}if(2&e){const o=i.$implicit;t.xp6(2),t.Oqu(o.name),t.xp6(2),t.Oqu(o.email),t.xp6(1),t.Q6J("ngIf","flatOwner"===o.userType),t.xp6(1),t.Q6J("ngIf","searcher"===o.userType),t.xp6(1),t.Q6J("ngIf",o.is_premium),t.xp6(1),t.Q6J("ngIf",!o.is_premium),t.xp6(1),t.Q6J("ngIf",o.is_premium),t.xp6(1),t.Q6J("ngIf",!o.is_premium),t.xp6(3),t.Q6J("ngIf",!1===o.is_blocked),t.xp6(1),t.Q6J("ngIf",o.is_blocked)}}function P(e,i){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,O,15,10,"tr",13),t.qZA()),2&e){const o=i.ngIf;t.xp6(1),t.Q6J("ngForOf",o)}}let Y=(()=>{var e;class i{constructor(n,r,a){this.store=n,this.adminService=r,this.toastr=a}ngOnInit(){this.store.dispatch((0,c.BT)()),this.users$=this.store.pipe((0,p.Ys)(h.br))}unBlockUser(n){this.adminService.unBlockUser(n).subscribe(r=>{this.toastr.success(r.message,"Success",{timeOut:1e3,progressAnimation:"increasing",progressBar:!0}),this.store.dispatch((0,c.BT)())})}}return(e=i).\u0275fac=function(n){return new(n||e)(t.Y36(p.yh),t.Y36(f.m),t.Y36(_._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-usermanagement"]],decls:28,vars:3,consts:[[1,"flex"],[1,""],[1,"relative","py-16","bg-blueGray-50"],[1,"w-full","mb-12","px-4"],[1,"relative","flex","flex-col","min-w-0","break-words","w-full","mb-6","shadow-lg","rounded","bg-purple-500","text-white"],[1,"rounded-t","mb-0","px-4","py-3","border-0"],[1,"flex","flex-wrap","items-center"],[1,"relative","w-full","px-4","max-w-full","flex-grow","flex-1"],[1,"font-semibold","text-lg","text-white"],[1,"block","w-full","overflow-x-auto"],[1,"items-center","w-full","bg-transparent","border-collapse",2,"table-layout","fixed"],[1,"px-6","align-middle","text-center","border","border-solid","py-3","text-xs","uppercase","border-l-0","border-r-0","whitespace-nowrap","font-semibold","text-left","text-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"border-t-0","px-6","align-middle","text-center","border-l-0","border-r-0","text-xs","p-4"],["class","border-t-0 px-6 align-middle text-center border-l-0 border-r-0 text-xs p-4",4,"ngIf"],[1,"flex","justify-center","items-center",3,"click"],["onclick","","class","bg-red-500 rounded-lg text-sm px-4 py-2 font-bold",4,"ngIf"],["onclick","","class","bg-green-500 rounded-lg text-sm px-4 py-2 font-bold",4,"ngIf"],["onclick","",1,"bg-red-500","rounded-lg","text-sm","px-4","py-2","font-bold"],["onclick","",1,"bg-green-500","rounded-lg","text-sm","px-4","py-2","font-bold"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3",8),t._uU(9,"Users"),t.qZA()()()(),t.TgZ(10,"div",9)(11,"table",10)(12,"thead")(13,"tr")(14,"th",11),t._uU(15,"Name"),t.qZA(),t.TgZ(16,"th",11),t._uU(17,"E-mail"),t.qZA(),t.TgZ(18,"th",11),t._uU(19,"User type"),t.qZA(),t.TgZ(20,"th",11),t._uU(21,"Subscription starts"),t.qZA(),t.TgZ(22,"th",11),t._uU(23,"Subscription ends"),t.qZA(),t.TgZ(24,"th",11),t._uU(25,"Action"),t.qZA()()(),t.YNc(26,P,2,1,"tbody",12),t.ALo(27,"async"),t.qZA()()()()()()()),2&n&&(t.xp6(26),t.Q6J("ngIf",t.lcZ(27,1,r.users$)))},dependencies:[d.sg,d.O5,d.Ov,d.uU],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&family=Ubuntu&display=swap";*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}']}),i})();var x=m(7398),u=m(7700);function J(e,i){1&e&&t._UZ(0,"img",9),2&e&&t.Q6J("src","../assets/images/girl.png",t.LSH)}function M(e,i){1&e&&t._UZ(0,"img",9),2&e&&t.Q6J("src","../assets/images/boy.png",t.LSH)}function E(e,i){if(1&e&&(t.TgZ(0,"div",4)(1,"div",5),t.YNc(2,J,1,1,"img",6),t.YNc(3,M,1,1,"img",6),t.TgZ(4,"h5",7),t._uU(5),t.TgZ(6,"span",8),t._uU(7,"Flat/Room Wanderer"),t.qZA()()()()),2&e){const o=i.$implicit;t.xp6(2),t.Q6J("ngIf","female"==o.ownerGender),t.xp6(1),t.Q6J("ngIf","male"==o.ownerGender),t.xp6(2),t.hij(" ",o.ownerName," ")}}function Q(e,i){1&e&&t._UZ(0,"img",21)}function j(e,i){1&e&&t._UZ(0,"img",22)}function S(e,i){if(1&e&&(t.TgZ(0,"p",23)(1,"span",18),t._uU(2,"Remarks : "),t.qZA(),t._uU(3),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(3),t.hij("",o.description," ")}}function B(e,i){if(1&e&&(t.TgZ(0,"div",10),t.YNc(1,Q,1,0,"img",11),t.YNc(2,j,1,0,"img",12),t.TgZ(3,"div",13)(4,"h2",14)(5,"span",15),t._uU(6),t.qZA()(),t.TgZ(7,"p",16),t._uU(8,"Need a Room/flat"),t.qZA(),t.TgZ(9,"p",17)(10,"span",18),t._uU(11," Location : "),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.qZA()(),t.TgZ(14,"p",19)(15,"span",18),t._uU(16,"Expected Rent : "),t.qZA(),t._uU(17),t.qZA(),t.TgZ(18,"p",19)(19,"span",18),t._uU(20,"Date to shift : "),t.qZA(),t._uU(21),t.ALo(22,"date"),t.qZA(),t.YNc(23,S,4,1,"p",20),t.TgZ(24,"p",19)(25,"span",18),t._uU(26,"Contact Number : "),t.qZA(),t._uU(27),t.qZA()()()),2&e){const o=i.$implicit;t.xp6(1),t.Q6J("ngIf","male"===o.gender),t.xp6(1),t.Q6J("ngIf","female"===o.gender),t.xp6(4),t.hij(" Looking for : ",o.gender," "),t.xp6(7),t.Oqu(o.location),t.xp6(4),t.hij("\u20b9 ",o.rent," "),t.xp6(4),t.hij("",t.xi3(22,8,o.date,"mediumDate")," "),t.xp6(2),t.Q6J("ngIf",o.description),t.xp6(4),t.hij("",o.contactNumber," ")}}function V(e,i){if(1&e&&(t.TgZ(0,"div",1),t.YNc(1,E,8,3,"div",2),t.YNc(2,B,28,11,"div",3),t.qZA()),2&e){const o=i.ngIf;t.xp6(1),t.Q6J("ngForOf",o),t.xp6(1),t.Q6J("ngForOf",o)}}let L=(()=>{var e;class i{constructor(n,r){this.data=n,this.store=r,this.postId=n.id}ngOnInit(){this.currentImageindex=0,this.store.dispatch((0,c.qV)()),this.roomPost$=this.store.pipe((0,p.Ys)(h.jl)),this.roomPost$=this.roomPost$.pipe((0,x.U)(n=>n.filter(r=>r._id==this.postId)))}}return(e=i).\u0275fac=function(n){return new(n||e)(t.Y36(u.WI),t.Y36(p.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-viewpost-flat"]],decls:2,vars:3,consts:[["class","flex justify-center items-center p-2 gap-8",4,"ngIf"],[1,"flex","justify-center","items-center","p-2","gap-8"],["class","w-100 max-w-sm bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700",4,"ngFor","ngForOf"],["class","flex items-center bg w-full-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700",4,"ngFor","ngForOf"],[1,"w-100","max-w-sm","bg-white","border","border-gray-200","rounded-lg","shadow","dark:bg-gray-800","dark:border-gray-700"],[1,"flex","flex-col","items-center","pb-10","m-6"],["class","w-24 h-24 mb-3 rounded-full bg-blue-400 shadow-lg","alt","Bonnie image",3,"src",4,"ngIf"],[1,"mb-1","text-xl","flex","flex-col","text-center","font-medium","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],["alt","Bonnie image",1,"w-24","h-24","mb-3","rounded-full","bg-blue-400","shadow-lg",3,"src"],[1,"flex","items-center","bg","w-full-white","border","border-gray-200","rounded-lg","shadow","hover:bg-gray-100","dark:border-gray-700","dark:bg-gray-800","dark:hover:bg-gray-700"],["class","w-1/4 h-1/4 m-2","src","../assets/images/requiredBoy.png","alt","",4,"ngIf"],["class","w-1/4 h-1/4 m-2","src","../assets/images/requiredGirl.png","alt","",4,"ngIf"],[1,"flex","flex-col","justify-between","p-4","leading-normal"],[1,"text-md","font-semibold","text-gray-900"],[1,""],[1,"text-purple-700","text-md"],[1,"mt-3","flex"],[1,"font-semibold"],[1,"text-gray-700"],["class","text-gray-700 semibold",4,"ngIf"],["src","../assets/images/requiredBoy.png","alt","",1,"w-1/4","h-1/4","m-2"],["src","../assets/images/requiredGirl.png","alt","",1,"w-1/4","h-1/4","m-2"],[1,"text-gray-700","semibold"]],template:function(n,r){1&n&&(t.YNc(0,V,3,2,"div",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,r.roomPost$))},dependencies:[d.sg,d.O5,d.Ov,d.uU]}),i})();function $(e,i){1&e&&(t.TgZ(0,"td",14),t._uU(1," Flat Owner "),t.qZA())}function H(e,i){1&e&&(t.TgZ(0,"td",14),t._uU(1," Looking for flat/flatmate "),t.qZA())}function G(e,i){1&e&&(t.TgZ(0,"button",21),t._uU(1," Block "),t.qZA())}function D(e,i){1&e&&(t.TgZ(0,"button",22),t._uU(1," Unblock "),t.qZA())}function R(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"tr")(1,"td",14),t._uU(2),t.qZA(),t.TgZ(3,"td",14),t._uU(4),t.qZA(),t.YNc(5,$,2,0,"td",15),t.YNc(6,H,2,0,"td",15),t.TgZ(7,"td")(8,"div",16)(9,"button",17),t.NdJ("click",function(){const a=t.CHM(o).$implicit,l=t.oxw(2);return t.KtG(l.viewPost(a._id))}),t._uU(10," View "),t.qZA()()(),t.TgZ(11,"td",14)(12,"div",18),t.NdJ("click",function(){const a=t.CHM(o).$implicit,l=t.oxw(2);return t.KtG(l.unBlockpost(a._id))}),t.YNc(13,G,2,0,"button",19),t.YNc(14,D,2,0,"button",20),t.qZA()()()}if(2&e){const o=i.$implicit;t.xp6(2),t.hij(" ",o.ownerName," "),t.xp6(2),t.hij(" ",o.ownerType," "),t.xp6(1),t.Q6J("ngIf","flatOwner"===o.ownerType),t.xp6(1),t.Q6J("ngIf","searcher"===o.ownerType),t.xp6(7),t.Q6J("ngIf",!1===o.isBlocked),t.xp6(1),t.Q6J("ngIf",o.isBlocked)}}function z(e,i){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,R,15,6,"tr",13),t.qZA()),2&e){const o=i.ngIf;t.xp6(1),t.Q6J("ngForOf",o)}}let W=(()=>{var e;class i{constructor(n,r,a,l){this.store=n,this.dialog=r,this.toastr=a,this.adminService=l}ngOnInit(){this.store.dispatch((0,c.qV)()),this.posts$=this.store.pipe((0,p.Ys)(h.jl))}unBlockpost(n){this.adminService.unBlockOrBlockRoomPost(n).subscribe(r=>{this.toastr.success(r.message,"Success",{timeOut:1e3,progressAnimation:"increasing",progressBar:!0}),this.store.dispatch((0,c.qV)())})}viewPost(n){this.dialog.open(L,{data:{id:n}}).afterClosed().subscribe(a=>{})}}return(e=i).\u0275fac=function(n){return new(n||e)(t.Y36(p.yh),t.Y36(u.uw),t.Y36(_._W),t.Y36(f.m))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-flatfeeds"]],decls:26,vars:3,consts:[[1,"flex"],[1,""],[1,"relative","py-16","bg-blueGray-50"],[1,"w-full","mb-12","px-4"],[1,"relative","flex","flex-col","min-w-0","break-words","w-full","mb-6","shadow-lg","rounded","bg-purple-500","text-white"],[1,"rounded-t","mb-0","px-4","py-3","border-0"],[1,"flex","flex-wrap","items-center"],[1,"relative","w-full","px-4","max-w-full","flex-grow","flex-1"],[1,"font-semibold","text-lg","text-white"],[1,"block","w-full","overflow-x-auto"],[1,"items-center","w-full","bg-transparent","border-collapse",2,"table-layout","fixed"],[1,"px-6","align-middle","text-center","border","border-solid","py-3","text-xs","uppercase","border-l-0","border-r-0","whitespace-nowrap","font-semibold","text-left","text-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"border-t-0","px-6","align-middle","text-center","border-l-0","border-r-0","text-xs","p-4"],["class","border-t-0 px-6 align-middle text-center border-l-0 border-r-0 text-xs p-4",4,"ngIf"],[1,"flex","justify-center","items-center"],[1,"bg-blue-500","rounded-lg","text-sm","px-4","py-2","font-bold",3,"click"],[1,"flex","justify-center","items-center",3,"click"],["onclick","","class","bg-red-500 rounded-lg text-sm px-4 py-2 font-bold",4,"ngIf"],["onclick","","class","bg-green-500 rounded-lg text-sm px-4 py-2 font-bold",4,"ngIf"],["onclick","",1,"bg-red-500","rounded-lg","text-sm","px-4","py-2","font-bold"],["onclick","",1,"bg-green-500","rounded-lg","text-sm","px-4","py-2","font-bold"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"p",8),t._uU(9," flatmate Requirement feeds "),t.qZA()()()(),t.TgZ(10,"div",9)(11,"table",10)(12,"thead")(13,"tr")(14,"th",11),t._uU(15," Name "),t.qZA(),t.TgZ(16,"th",11),t._uU(17," User type "),t.qZA(),t.TgZ(18,"th",11),t._uU(19," post for? "),t.qZA(),t.TgZ(20,"th",11),t._uU(21," View "),t.qZA(),t.TgZ(22,"th",11),t._uU(23," Action "),t.qZA()()(),t.YNc(24,z,2,1,"tbody",12),t.ALo(25,"async"),t.qZA()()()()()()()),2&n&&(t.xp6(24),t.Q6J("ngIf",t.lcZ(25,1,r.posts$)))},dependencies:[d.sg,d.O5,d.Ov]}),i})();function X(e,i){1&e&&t._UZ(0,"img",9),2&e&&t.Q6J("src","../assets/images/girl.png",t.LSH)}function K(e,i){1&e&&t._UZ(0,"img",9),2&e&&t.Q6J("src","../assets/images/boy.png",t.LSH)}function tt(e,i){1&e&&(t.TgZ(0,"span",10),t._uU(1,"Flat Occupier"),t.qZA())}function et(e,i){1&e&&(t.TgZ(0,"span",10),t._uU(1,"Flat Owner"),t.qZA())}function nt(e,i){if(1&e&&(t.TgZ(0,"div",4)(1,"div",5),t.YNc(2,X,1,1,"img",6),t.YNc(3,K,1,1,"img",6),t.TgZ(4,"h5",7),t._uU(5),t.qZA(),t.YNc(6,tt,2,0,"span",8),t.YNc(7,et,2,0,"span",8),t.qZA()()),2&e){const o=i.$implicit;t.xp6(2),t.Q6J("ngIf","female"==o.ownerGender),t.xp6(1),t.Q6J("ngIf","male"==o.ownerGender),t.xp6(2),t.hij(" ",o.ownerName," "),t.xp6(1),t.Q6J("ngIf","searcher"==o.ownerType),t.xp6(1),t.Q6J("ngIf","flatOwner"==o.ownerType)}}function ot(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(3);return t.KtG(r.prevImage())}),t.TgZ(1,"span",25),t.O4$(),t.TgZ(2,"svg",26),t._UZ(3,"path",27),t.qZA(),t.kcU(),t.TgZ(4,"span",28),t._uU(5,"Previous"),t.qZA()()()}}function rt(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(o);const r=t.oxw(3);return t.KtG(r.nextImage())}),t.TgZ(1,"span",29),t.O4$(),t.TgZ(2,"svg",26),t._UZ(3,"path",30),t.qZA(),t.kcU(),t.TgZ(4,"span",28),t._uU(5,"Next"),t.qZA()()()}}function it(e,i){if(1&e&&(t.TgZ(0,"p",31)(1,"span",20),t._uU(2,"Remarks : "),t.qZA(),t._uU(3),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(3),t.hij("",o.description," ")}}function st(e,i){1&e&&(t.TgZ(0,"span"),t._uU(1,","),t.qZA())}function at(e,i){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,st,2,0,"span",32),t.qZA()),2&e){const o=i.$implicit,n=i.index,r=t.oxw().$implicit;t.xp6(1),t.hij(" ",o,""),t.xp6(1),t.Q6J("ngIf",n!==r.amenities.length-1)}}function lt(e,i){if(1&e&&(t.TgZ(0,"div",11)(1,"div",12),t.YNc(2,ot,6,0,"button",13),t.qZA(),t._UZ(3,"img",14),t.TgZ(4,"div",12),t.YNc(5,rt,6,0,"button",13),t.qZA(),t.TgZ(6,"div",15)(7,"h2",16)(8,"span",17),t._uU(9),t.qZA()(),t.TgZ(10,"p",18),t._uU(11,"Need a Roommate"),t.qZA(),t.TgZ(12,"p",19)(13,"span",20),t._uU(14," Location : "),t.qZA(),t.TgZ(15,"span"),t._uU(16),t.qZA()(),t.TgZ(17,"p",21)(18,"span",20),t._uU(19,"Rent : "),t.qZA(),t._uU(20),t.qZA(),t.YNc(21,it,4,1,"p",22),t.TgZ(22,"p",21)(23,"span",20),t._uU(24,"Amenities offered : "),t.qZA(),t.YNc(25,at,3,2,"span",23),t.qZA()()()),2&e){const o=i.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",n.currentImageindex>0),t.xp6(1),t.Q6J("src","http://flatunity.online/public/userImages/"+o.images[n.currentImageindex],t.LSH),t.xp6(2),t.Q6J("ngIf",n.currentImageindex<o.images.length-1),t.xp6(4),t.hij(" Looking for : ",o.gender," "),t.xp6(7),t.Oqu(o.location),t.xp6(4),t.hij("\u20b9 ",o.rent," "),t.xp6(1),t.Q6J("ngIf",o.description),t.xp6(4),t.Q6J("ngForOf",o.amenities)}}function dt(e,i){if(1&e&&(t.TgZ(0,"div",1),t.YNc(1,nt,8,5,"div",2),t.YNc(2,lt,26,8,"div",3),t.qZA()),2&e){const o=i.ngIf;t.xp6(1),t.Q6J("ngForOf",o),t.xp6(1),t.Q6J("ngForOf",o)}}let mt=(()=>{var e;class i{constructor(n,r){this.data=n,this.store=r,this.postId=n.id}ngOnInit(){this.currentImageindex=0,this.store.dispatch((0,c.WC)()),this.roomMatePost$=this.store.pipe((0,p.Ys)(h.gi)),this.roomMatePost$=this.roomMatePost$.pipe((0,x.U)(n=>n.filter(r=>r._id==this.postId)))}prevImage(){this.currentImageindex--}nextImage(){this.currentImageindex++}}return(e=i).\u0275fac=function(n){return new(n||e)(t.Y36(u.WI),t.Y36(p.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-viewpost-flatmate"]],decls:2,vars:3,consts:[["class","flex justify-center items-center p-2 gap-8",4,"ngIf"],[1,"flex","justify-center","items-center","p-2","gap-8"],["class","w-100 max-w-sm bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700",4,"ngFor","ngForOf"],["class","flex items-center bg w-full-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700",4,"ngFor","ngForOf"],[1,"w-100","max-w-sm","bg-white","border","border-gray-200","rounded-lg","shadow","dark:bg-gray-800","dark:border-gray-700"],[1,"flex","flex-col","items-center","pb-10","m-6"],["class","w-24 h-24 mb-3 rounded-full shadow-lg","alt","Bonnie image",3,"src",4,"ngIf"],[1,"mb-1","text-xl","font-medium","flex","flex-col","text-center","text-gray-900","dark:text-white"],["class","text-sm text-gray-500 dark:text-gray-400",4,"ngIf"],["alt","Bonnie image",1,"w-24","h-24","mb-3","rounded-full","shadow-lg",3,"src"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"flex","items-center","bg","w-full-white","border","border-gray-200","rounded-lg","shadow","hover:bg-gray-100","dark:border-gray-700","dark:bg-gray-800","dark:hover:bg-gray-700"],[1,"w-6","m-2"],[3,"click",4,"ngIf"],["alt","",1,"w-96","h-96",3,"src"],[1,"flex","flex-col","justify-between","p-4","leading-normal"],[1,"text-md","font-semibold","text-gray-900"],[1,""],[1,"text-purple-700","text-md"],[1,"mt-3","flex"],[1,"font-semibold"],[1,"text-gray-700"],["class","text-gray-700 semibold",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click"],[1,"inline-flex","items-center","justify-start","w-10","h-10","rounded-full","bg-white/30","dark:bg-gray-800/30","group-hover:bg-white/50","dark:group-hover:bg-gray-800/60","group-focus:ring-4","group-focus:ring-white","dark:group-focus:ring-gray-800/70","group-focus:outline-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 6 10",1,"w-4","h-4","text-white","dark:text-gray-800"],["stroke","grey","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 1 1 5l4 4"],[1,"sr-only"],[1,"inline-flex","items-center","justify-center","w-10","h-10","rounded-full","bg-white/30","dark:bg-gray-800/30","group-hover:bg-white/50","dark:group-hover:bg-gray-800/60","group-focus:ring-4","group-focus:ring-white","dark:group-focus:ring-gray-800/70","group-focus:outline-none"],["stroke","grey","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m1 9 4-4-4-4"],[1,"text-gray-700","semibold"],[4,"ngIf"]],template:function(n,r){1&n&&(t.YNc(0,dt,3,2,"div",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,r.roomMatePost$))},dependencies:[d.sg,d.O5,d.Ov],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&family=Ubuntu&display=swap";*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}']}),i})();function pt(e,i){1&e&&(t.TgZ(0,"td",14),t._uU(1," Flat Owner "),t.qZA())}function ut(e,i){1&e&&(t.TgZ(0,"td",14),t._uU(1," Looking for flat/flatmate "),t.qZA())}function ct(e,i){1&e&&(t.TgZ(0,"button",21),t._uU(1," Block "),t.qZA())}function gt(e,i){1&e&&(t.TgZ(0,"button",22),t._uU(1," Unblock "),t.qZA())}function ft(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"tr")(1,"td",14),t._uU(2),t.qZA(),t.TgZ(3,"td",14),t._uU(4),t.qZA(),t.YNc(5,pt,2,0,"td",15),t.YNc(6,ut,2,0,"td",15),t.TgZ(7,"td")(8,"div",16)(9,"button",17),t.NdJ("click",function(){const a=t.CHM(o).$implicit,l=t.oxw(2);return t.KtG(l.viewPost(a._id))}),t._uU(10," View "),t.qZA()()(),t.TgZ(11,"td",14)(12,"div",18),t.NdJ("click",function(){const a=t.CHM(o).$implicit,l=t.oxw(2);return t.KtG(l.unBlockpost(a._id))}),t.YNc(13,ct,2,0,"button",19),t.YNc(14,gt,2,0,"button",20),t.qZA()()()}if(2&e){const o=i.$implicit;t.xp6(2),t.hij(" ",o.ownerName," "),t.xp6(2),t.hij(" ",o.ownerType," "),t.xp6(1),t.Q6J("ngIf","flatOwner"===o.ownerType),t.xp6(1),t.Q6J("ngIf","searcher"===o.ownerType),t.xp6(7),t.Q6J("ngIf",!1===o.isBlocked),t.xp6(1),t.Q6J("ngIf",o.isBlocked)}}function _t(e,i){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,ft,15,6,"tr",13),t.qZA()),2&e){const o=i.ngIf;t.xp6(1),t.Q6J("ngForOf",o)}}let ht=(()=>{var e;class i{constructor(n,r,a,l){this.store=n,this.dialog=r,this.adminService=a,this.toastr=l}ngOnInit(){this.store.dispatch((0,c.WC)()),this.posts$=this.store.pipe((0,p.Ys)(h.gi))}unBlockpost(n){this.adminService.unBlockOrBlockPost(n).subscribe(r=>{this.toastr.success(r.message,"Success",{timeOut:1e3,progressAnimation:"increasing",progressBar:!0}),this.store.dispatch((0,c.WC)())})}viewPost(n){this.dialog.open(mt,{data:{id:n}}).afterClosed().subscribe(a=>{})}}return(e=i).\u0275fac=function(n){return new(n||e)(t.Y36(p.yh),t.Y36(u.uw),t.Y36(f.m),t.Y36(_._W))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-flat-matefeeds"]],decls:26,vars:3,consts:[[1,"flex"],[1,""],[1,"relative","py-16","bg-blueGray-50"],[1,"w-full","mb-12","px-4"],[1,"relative","flex","flex-col","min-w-0","break-words","w-full","mb-6","shadow-lg","rounded","bg-purple-500","text-white"],[1,"rounded-t","mb-0","px-4","py-3","border-0"],[1,"flex","flex-wrap","items-center"],[1,"relative","w-full","px-4","max-w-full","flex-grow","flex-1"],[1,"font-semibold","text-lg","text-white"],[1,"block","w-full","overflow-x-auto"],[1,"items-center","w-full","bg-transparent","border-collapse",2,"table-layout","fixed"],[1,"px-6","align-middle","text-center","border","border-solid","py-3","text-xs","uppercase","border-l-0","border-r-0","whitespace-nowrap","font-semibold","text-left","text-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"border-t-0","px-6","align-middle","text-center","border-l-0","border-r-0","text-xs","p-4"],["class","border-t-0 px-6 align-middle text-center border-l-0 border-r-0 text-xs p-4",4,"ngIf"],[1,"flex","justify-center","items-center"],[1,"bg-blue-500","rounded-lg","text-sm","px-4","py-2","font-bold",3,"click"],[1,"flex","justify-center","items-center",3,"click"],["onclick","","class","bg-red-500 rounded-lg text-sm px-4 py-2 font-bold",4,"ngIf"],["onclick","","class","bg-green-500 rounded-lg text-sm px-4 py-2 font-bold",4,"ngIf"],["onclick","",1,"bg-red-500","rounded-lg","text-sm","px-4","py-2","font-bold"],["onclick","",1,"bg-green-500","rounded-lg","text-sm","px-4","py-2","font-bold"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"p",8),t._uU(9," flatmate Requirement feeds "),t.qZA()()()(),t.TgZ(10,"div",9)(11,"table",10)(12,"thead")(13,"tr")(14,"th",11),t._uU(15," Name "),t.qZA(),t.TgZ(16,"th",11),t._uU(17," User type "),t.qZA(),t.TgZ(18,"th",11),t._uU(19," post for? "),t.qZA(),t.TgZ(20,"th",11),t._uU(21," View "),t.qZA(),t.TgZ(22,"th",11),t._uU(23," Action "),t.qZA()()(),t.YNc(24,_t,2,1,"tbody",12),t.ALo(25,"async"),t.qZA()()()()()()()),2&n&&(t.xp6(24),t.Q6J("ngIf",t.lcZ(25,1,r.posts$)))},dependencies:[d.sg,d.O5,d.Ov]}),i})();var bt=m(2296);let xt=(()=>{var e;class i{}return(e=i).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-plan-delete-confirmation"]],decls:9,vars:2,consts:[["mat-dialog-title",""],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(n,r){1&n&&(t.TgZ(0,"p",0),t._uU(1,"Confirm Deletion"),t.qZA(),t.TgZ(2,"mat-dialog-content"),t._uU(3," Are you sure you want to delete this plan?\n"),t.qZA(),t.TgZ(4,"mat-dialog-actions")(5,"button",1),t._uU(6,"Cancel"),t.qZA(),t.TgZ(7,"button",2),t._uU(8," Delete "),t.qZA()()),2&n&&(t.xp6(5),t.Q6J("mat-dialog-close","cancel"),t.xp6(2),t.Q6J("mat-dialog-close","delete"))},dependencies:[bt.lW,u.ZT,u.uh,u.xY,u.H8],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&family=Ubuntu&display=swap";*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}']}),i})(),wt=(()=>{var e;class i{constructor(n,r,a,l,w){this.fb=n,this.admin=r,this.toastr=a,this.router=l,this.dialog=w,this.subscriptionForm=this.fb.group({planName:["",s.kI.required],amount:[0,[s.kI.required,s.kI.min(1)]],duration:[1,[s.kI.required,s.kI.min(1),s.kI.max(12)]],features:["",[s.kI.required,s.kI.minLength(4)]]})}ngOnInit(){}onSubmit(){if(this.subscriptionForm.valid)this.addPlan();else{if(this.nameError())return void this.toastr.warning(this.nameError(),"",{timeOut:1e3,progressAnimation:"increasing",progressBar:!0});if(this.amountError())return void this.toastr.warning(this.amountError(),"",{timeOut:1e3,progressAnimation:"increasing",progressBar:!0});if(this.durationError())return void this.toastr.warning(this.durationError(),"",{timeOut:1e3,progressAnimation:"increasing",progressBar:!0});if(this.featuresError())return void this.toastr.warning(this.featuresError(),"",{timeOut:1e3,progressAnimation:"increasing",progressBar:!0})}}nameError(){const n=this.subscriptionForm.get("planName");if(!n?.valid){if(n?.hasError("required"))return"Name required";if(n?.hasError("minlength"))return"Minimum length of Name should be three"}}amountError(){const n=this.subscriptionForm.get("amount");if(!n?.valid){if(n?.hasError("required"))return"Amount required";if(n?.hasError("min"))return"Amount should'nt be 0"}}durationError(){const n=this.subscriptionForm.get("duration");if(!n?.valid){if(n?.hasError("required"))return"Duration required";if(n?.hasError("min"))return"Minimum one month";if(n?.hasError("max"))return"Maximum 12 months"}}featuresError(){const n=this.subscriptionForm.get("features");if(!n?.valid){if(n?.hasError("required"))return"features required";if(n?.hasError("min"))return"features should'nt be 0"}}addPlan(){this.admin.addPlan(this.subscriptionForm.value).subscribe(r=>{this.toastr.success(r.message,"Success",{timeOut:1e3,progressAnimation:"increasing",progressBar:!0}),this.dialog.closeAll()})}}return(e=i).\u0275fac=function(n){return new(n||e)(t.Y36(s.qu),t.Y36(f.m),t.Y36(_._W),t.Y36(g.F0),t.Y36(u.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-add-plan"]],decls:19,vars:1,consts:[[1,"modal-dialog-content","p-6","bg-white","rounded-lg","shadow-lg",3,"formGroup","ngSubmit"],[1,"mb-4"],["for","planName",1,"text-sm","font-medium","text-gray-600"],["type","text","id","planName","formControlName","planName",1,"block","w-full","px-3","py-2","mt-1","border","border-gray-300","rounded-md","shadow-sm","focus:ring-indigo-500","focus:border-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2"],["for","amount",1,"text-sm","font-medium","text-gray-600"],["type","number","id","amount","formControlName","amount",1,"block","w-full","px-3","py-2","mt-1","border","border-gray-300","rounded-md","shadow-sm","focus:ring-indigo-500","focus:border-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2"],["for","duration",1,"text-sm","font-medium","text-gray-600"],["type","number","id","duration","formControlName","duration",1,"block","w-full","px-3","py-2","mt-1","border","border-gray-300","rounded-md","shadow-sm","focus:ring-indigo-500","focus:border-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2"],["for","features",1,"text-sm","font-medium","text-gray-600"],["type","text","id","features","formControlName","features",1,"block","w-full","px-3","py-2","mt-1","border","border-gray-300","rounded-md","shadow-sm","focus:ring-indigo-500","focus:border-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2"],["type","submit",1,"w-full","px-4","py-2","text-white","bg-purple-600","rounded-md","hover:bg-purple-700","focus:outline-none","focus:ring","focus:ring-purple-200"]],template:function(n,r){1&n&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(1,"div",1)(2,"label",2),t._uU(3,"Plan Name:"),t.qZA(),t._UZ(4,"input",3),t.qZA(),t.TgZ(5,"div",1)(6,"label",4),t._uU(7,"Amount:"),t.qZA(),t._UZ(8,"input",5),t.qZA(),t.TgZ(9,"div",1)(10,"label",6),t._uU(11,"Duration (in months):"),t.qZA(),t._UZ(12,"input",7),t.qZA(),t.TgZ(13,"div",1)(14,"label",8),t._uU(15,"Features (Separate features with a comma):"),t.qZA(),t._UZ(16,"input",9),t.qZA(),t.TgZ(17,"button",10),t._uU(18," Add Plan "),t.qZA()()),2&n&&t.Q6J("formGroup",r.subscriptionForm)},dependencies:[s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&family=Ubuntu&display=swap";*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}']}),i})(),Zt=(()=>{var e;class i{constructor(n,r,a,l,w,Ot){this.fb=n,this.data=r,this.admin=a,this.store=l,this.toastr=w,this.dialog=Ot,this.planId=this.data.id,this.planForm=this.fb.group({planName:[this.planName,s.kI.required],amount:[this.amount,[s.kI.required,s.kI.min(1)]],duration:[this.duration,[s.kI.required,s.kI.min(1),s.kI.max(12)]],features:[this.featuresString,[s.kI.required,s.kI.minLength(4)]]})}ngOnInit(){this.store.dispatch((0,c.Eo)()),this.plans$=this.store.pipe((0,p.Ys)(h.z6)),this.plans$.subscribe(n=>{if(n.length>0){const r=n.find(a=>a._id==this.planId);this.planName=r.planName,this.duration=r.duration,this.amount=r.amount,this.featuresString=r.features.join(","),this.planForm.patchValue(r)}})}onSubmit(){if(this.planForm.valid)this.editPlan();else{if(this.nameError())return void this.toastr.warning(this.nameError(),"",{timeOut:1e3,progressAnimation:"increasing",progressBar:!0});if(this.amountError())return void this.toastr.warning(this.amountError(),"",{timeOut:1e3,progressAnimation:"increasing",progressBar:!0});if(this.durationError())return void this.toastr.warning(this.durationError(),"",{timeOut:1e3,progressAnimation:"increasing",progressBar:!0});if(this.featuresError())return void this.toastr.warning(this.featuresError(),"",{timeOut:1e3,progressAnimation:"increasing",progressBar:!0})}}nameError(){const n=this.planForm.get("planName");if(!n?.valid){if(n?.hasError("required"))return"Name required";if(n?.hasError("minlength"))return"Minimum length of Name should be three"}}amountError(){const n=this.planForm.get("amount");if(!n?.valid){if(n?.hasError("required"))return"Amount required";if(n?.hasError("min"))return"Amount should'nt be 0"}}durationError(){const n=this.planForm.get("duration");if(!n?.valid){if(n?.hasError("required"))return"Duration required";if(n?.hasError("min"))return"Minimum one month";if(n?.hasError("max"))return"Maximum 12 months"}}featuresError(){const n=this.planForm.get("features");if(!n?.valid){if(n?.hasError("required"))return"features required";if(n?.hasError("min"))return"features should'nt be 0"}}editPlan(){this.admin.editPlan(this.planForm.value,this.planId).subscribe(r=>{this.toastr.success(r.message,"Success",{timeOut:1e3,progressAnimation:"increasing",progressBar:!0}),this.dialog.closeAll()})}}return(e=i).\u0275fac=function(n){return new(n||e)(t.Y36(s.qu),t.Y36(u.WI),t.Y36(f.m),t.Y36(p.yh),t.Y36(_._W),t.Y36(u.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-edit-plan"]],decls:19,vars:1,consts:[[1,"modal-dialog-content","p-6","bg-white","rounded-lg","shadow-lg",3,"formGroup","ngSubmit"],[1,"mb-4"],["for","planName",1,"text-sm","font-medium","text-gray-600"],["type","text","id","planName","formControlName","planName",1,"block","w-full","px-3","py-2","mt-1","border","border-gray-300","rounded-md","shadow-sm","focus:ring-indigo-500","focus:border-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2"],["for","amount",1,"text-sm","font-medium","text-gray-600"],["type","number","id","amount","formControlName","amount",1,"block","w-full","px-3","py-2","mt-1","border","border-gray-300","rounded-md","shadow-sm","focus:ring-indigo-500","focus:border-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2"],["for","duration",1,"text-sm","font-medium","text-gray-600"],["type","number","id","duration","formControlName","duration",1,"block","w-full","px-3","py-2","mt-1","border","border-gray-300","rounded-md","shadow-sm","focus:ring-indigo-500","focus:border-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2"],["for","features",1,"text-sm","font-medium","text-gray-600"],["type","text","id","features","formControlName","features",1,"block","w-full","px-3","py-2","mt-1","border","border-gray-300","rounded-md","shadow-sm","focus:ring-indigo-500","focus:border-indigo-500","focus:outline-none","focus:ring-2","focus:ring-offset-2"],["type","submit",1,"w-full","px-4","py-2","text-white","bg-purple-600","rounded-md","hover:bg-purple-700","focus:outline-none","focus:ring","focus:ring-purple-200"]],template:function(n,r){1&n&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(1,"div",1)(2,"label",2),t._uU(3,"Plan Name:"),t.qZA(),t._UZ(4,"input",3),t.qZA(),t.TgZ(5,"div",1)(6,"label",4),t._uU(7,"Amount:"),t.qZA(),t._UZ(8,"input",5),t.qZA(),t.TgZ(9,"div",1)(10,"label",6),t._uU(11,"Duration (in months):"),t.qZA(),t._UZ(12,"input",7),t.qZA(),t.TgZ(13,"div",1)(14,"label",8),t._uU(15,"Features (Separate features with a comma):"),t.qZA(),t._UZ(16,"input",9),t.qZA(),t.TgZ(17,"button",10),t._uU(18," Update "),t.qZA()()),2&n&&t.Q6J("formGroup",r.planForm)},dependencies:[s._Y,s.Fj,s.wV,s.JJ,s.JL,s.sg,s.u]}),i})();function vt(e,i){if(1&e){const o=t.EpF();t.TgZ(0,"tr")(1,"td",16),t._uU(2),t.qZA(),t.TgZ(3,"td",16),t._uU(4),t.qZA(),t.TgZ(5,"td",16),t._uU(6),t.qZA(),t.TgZ(7,"td",16)(8,"div",17)(9,"button",18),t.NdJ("click",function(){const a=t.CHM(o).$implicit,l=t.oxw(2);return t.KtG(l.openEditScreen(a._id))}),t.O4$(),t.TgZ(10,"svg",19),t._UZ(11,"path",20),t.qZA()(),t.kcU(),t.TgZ(12,"button",21),t.NdJ("click",function(){const a=t.CHM(o).$implicit,l=t.oxw(2);return t.KtG(l.openDeleteConfirmation(a._id))}),t.O4$(),t.TgZ(13,"svg",22),t._UZ(14,"path",23),t.qZA()()()()()}if(2&e){const o=i.$implicit;t.xp6(2),t.hij(" ",o.planName," "),t.xp6(2),t.hij(" ",o.amount," "),t.xp6(2),t.hij(" ",o.duration," Month/s ")}}function yt(e,i){1&e&&(t.TgZ(0,"div",24)(1,"p"),t._uU(2,"No plans added"),t.qZA()())}function At(e,i){if(1&e&&(t.TgZ(0,"tbody"),t.YNc(1,vt,15,3,"tr",14),t.TgZ(2,"div"),t.YNc(3,yt,3,0,"div",15),t.qZA()()),2&e){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.plans),t.xp6(2),t.Q6J("ngIf",!o.plans.length)}}let Tt=(()=>{var e;class i{constructor(n,r,a,l){this.adminService=n,this.toastr=r,this.router=a,this.dialog=l}ngOnInit(){this.adminService.loadPlans().subscribe(n=>{this.plans=n.plans})}openDeleteConfirmation(n){this.dialog.open(xt,{data:{id:n}}).afterClosed().subscribe(a=>{"delete"===a&&this.deletePlan(n)})}deletePlan(n){this.adminService.deletePlan(n).subscribe(r=>{this.toastr.success(r.message,"Success",{timeOut:1e3,progressAnimation:"increasing",progressBar:!0}),this.ngOnInit()})}openAddForm(){this.dialog.open(wt,{width:"auto",maxWidth:"95vw"}).afterClosed().subscribe(r=>{this.ngOnInit()})}openEditScreen(n){this.dialog.open(Zt,{width:"auto",maxWidth:"95vw",data:{id:n}}).afterClosed().subscribe(a=>{this.ngOnInit()})}}return(e=i).\u0275fac=function(n){return new(n||e)(t.Y36(f.m),t.Y36(_._W),t.Y36(g.F0),t.Y36(u.uw))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-plans"]],decls:24,vars:1,consts:[[1,"flex"],[1,""],[1,"relative","py-16","bg-blueGray-50"],[1,"w-full","mb-12","px-4"],[1,"bg-red-500","rounded-lg","text-sm","text-white","mb-2","px-4","py-2","font-bold",3,"click"],[1,"relative","flex","flex-col","min-w-0","break-words","w-full","mb-6","shadow-lg","rounded","bg-purple-500","text-white"],[1,"rounded-t","mb-0","px-4","py-3","border-0"],[1,"flex","flex-wrap","items-center"],[1,"relative","w-full","px-4","max-w-full","flex-grow","flex-1"],[1,"font-semibold","text-lg","text-white"],[1,"block","w-full","overflow-x-auto"],[1,"items-center","w-full","bg-transparent","border-collapse",2,"table-layout","fixed"],[1,"px-6","align-middle","text-center","border","border-solid","py-3","text-xs","uppercase","border-l-0","border-r-0","whitespace-nowrap","font-semibold","text-left","text-white"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","flex justify-end w-full",4,"ngIf"],[1,"border-t-0","px-6","align-middle","text-center","border-l-0","border-r-0","text-xs","p-4"],[1,"flex","justify-center","items-center"],[3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","blue",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"],[1,"",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","red",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"],[1,"flex","justify-end","w-full"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"button",4),t.NdJ("click",function(){return r.openAddForm()}),t._uU(5," Add Plan "),t.qZA(),t.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"p",9),t._uU(11,"Plans"),t.qZA()()()(),t.TgZ(12,"div",10)(13,"table",11)(14,"thead")(15,"tr")(16,"th",12),t._uU(17," Plan Name "),t.qZA(),t.TgZ(18,"th",12),t._uU(19," Amount "),t.qZA(),t.TgZ(20,"th",12),t._uU(21," Duration "),t.qZA(),t._UZ(22,"th",12),t.qZA()(),t.YNc(23,At,4,2,"tbody",13),t.qZA()()()()()()()),2&n&&(t.xp6(23),t.Q6J("ngIf",r.plans))},dependencies:[d.sg,d.O5],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&family=Ubuntu&display=swap";*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}']}),i})();function Ut(e,i){1&e&&t._UZ(0,"app-usermanagement")}function kt(e,i){1&e&&t._UZ(0,"app-flatfeeds")}function qt(e,i){1&e&&t._UZ(0,"app-flat-matefeeds")}function Ct(e,i){1&e&&t._UZ(0,"app-plans")}let b=(()=>{var e;class i{constructor(n,r){this.router=n,this.adminService=r,this.showUserManagement=!1,this.showFlatfeed=!1,this.showFlatmatefeed=!1,this.showsales=!1,this.showPref=!1,this.showPlans=!1}ngOnInit(){this.router.url.subscribe(n=>{this.showUserManagement=n.some(r=>"users"===r.path),this.showFlatfeed=n.some(r=>"flatfeed"===r.path),this.showFlatmatefeed=n.some(r=>"flatMatefeed"===r.path),this.showPlans=n.some(r=>"plans"===r.path)})}logOutAdmin(){localStorage.removeItem("adminToken")}}return(e=i).\u0275fac=function(n){return new(n||e)(t.Y36(g.gz),t.Y36(f.m))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-admin-home"]],decls:61,vars:4,consts:[[1,"flex"],[1,""],[1,"bg-purple-800","h-screen","w-64","fixed","top-0","left-0","overflow-y-auto"],[1,"p-4"],[1,"text-2xl","font-semibold"],[1,"text-white"],[1,"text-green-500"],[1,"font-light","text-white"],[1,"space-y-2","px-4"],[1,"flex","hover:bg-white","text-white","hover:text-black","dashboard"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-8"],["stroke-linecap","round","stroke-linejoin","round","d","M10.5 6a7.5 7.5 0 107.5 7.5h-7.5V6z"],["stroke-linecap","round","stroke-linejoin","round","d","M13.5 10.5H21A7.5 7.5 0 0013.5 3v7.5z"],["href","/admin/adminhome",1,"block","py-2","px-4",3,"ngClass"],[1,"flex","hover:bg-white","text-white","hover:text-black"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"],["href","/admin/users",1,"block","py-2","px-4"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008zm0 3h.008v.008h-.008v-.008z"],["href","/admin/flatfeed",1,"block","py-2","px-4"],["stroke-linecap","round","stroke-linejoin","round","d","M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"],["href","/admin/flatMatefeed",1,"block","py-2","px-4"],["stroke-linecap","round","stroke-linejoin","round","d","M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"],["href","/admin/plans",1,"block","py-2","px-4"],["stroke-linecap","round","stroke-linejoin","round","d","M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"],["href","",1,"block","py-2","px-4"],[1,"flex","hover:bg-white","text-red-500"],["stroke-linecap","round","stroke-linejoin","round","d","M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"],["href","/admin/login",1,"block","py-2","px-4",3,"click"],[1,"ml-64"],[4,"ngIf"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),t._uU(6,"flat"),t.qZA(),t.TgZ(7,"span",6),t._uU(8,"Unity"),t.qZA(),t.TgZ(9,"span",7),t._uU(10,"-Admin"),t.qZA()()(),t.TgZ(11,"ul",8)(12,"li")(13,"div",9),t.O4$(),t.TgZ(14,"svg",10),t._UZ(15,"path",11)(16,"path",12),t.qZA(),t.kcU(),t.TgZ(17,"a",13),t._uU(18,"Dashboard"),t.qZA()()(),t.TgZ(19,"li")(20,"div",14),t.O4$(),t.TgZ(21,"svg",15),t._UZ(22,"path",16),t.qZA(),t.kcU(),t.TgZ(23,"a",17),t._uU(24,"Users"),t.qZA()()(),t.TgZ(25,"li")(26,"div",14),t.O4$(),t.TgZ(27,"svg",15),t._UZ(28,"path",18),t.qZA(),t.kcU(),t.TgZ(29,"a",19),t._uU(30,"Feed-flats"),t.qZA()()(),t.TgZ(31,"li")(32,"div",14),t.O4$(),t.TgZ(33,"svg",15),t._UZ(34,"path",20),t.qZA(),t.kcU(),t.TgZ(35,"a",21),t._uU(36,"Feed-flatmates"),t.qZA()()(),t.TgZ(37,"li")(38,"div",14),t.O4$(),t.TgZ(39,"svg",15),t._UZ(40,"path",22),t.qZA(),t.kcU(),t.TgZ(41,"a",23),t._uU(42,"Plans"),t.qZA()()(),t._UZ(43,"li"),t.TgZ(44,"li")(45,"div",14),t.O4$(),t.TgZ(46,"svg",15),t._UZ(47,"path",24),t.qZA(),t.kcU(),t.TgZ(48,"a",25),t._uU(49,"Sales report"),t.qZA()()(),t.TgZ(50,"li")(51,"div",26),t.O4$(),t.TgZ(52,"svg",15),t._UZ(53,"path",27),t.qZA(),t.kcU(),t.TgZ(54,"a",28),t.NdJ("click",function(){return r.logOutAdmin()}),t._uU(55,"Signout"),t.qZA()()()()()(),t.TgZ(56,"div",29),t.YNc(57,Ut,1,0,"app-usermanagement",30),t.YNc(58,kt,1,0,"app-flatfeeds",30),t.YNc(59,qt,1,0,"app-flat-matefeeds",30),t.YNc(60,Ct,1,0,"app-plans",30),t.qZA()()),2&n&&(t.xp6(57),t.Q6J("ngIf",r.showUserManagement),t.xp6(1),t.Q6J("ngIf",r.showFlatfeed),t.xp6(1),t.Q6J("ngIf",r.showFlatmatefeed),t.xp6(1),t.Q6J("ngIf",r.showPlans))},dependencies:[d.mk,d.O5,A.oO,Y,W,ht,Tt],styles:['@import"https://fonts.googleapis.com/css2?family=Poppins&family=Ubuntu&display=swap";*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.dashboard[_ngcontent-%COMP%]{box-flex-group:yellow!important}.rounded-grey-bg[_ngcontent-%COMP%]{background-color:#f8f8f852;border-radius:50px;padding:1rem}']}),i})();var v=m(5765);const Ft=[{path:"login",component:y,canActivate:[(e,i)=>{const o=(0,t.f3M)(v.H),n=(0,t.f3M)(g.F0);return o.checkAdminLogin().pipe((0,x.U)(r=>!r||(n.navigate(["/admin/adminhome"]),!1)))}]},{path:"adminhome",component:b,canActivate:[(e,i)=>{const o=(0,t.f3M)(v.H),n=(0,t.f3M)(g.F0);return o.checkAdminLogin().pipe((0,x.U)(r=>!!r||(n.navigate(["/admin/login"]),!1)))}]},{path:"users",component:b},{path:"flatfeed",component:b},{path:"flatMatefeed",component:b},{path:"plans",component:b}];let It=(()=>{var e;class i{}return(e=i).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[g.Bz.forChild(Ft),g.Bz]}),i})(),Nt=(()=>{var e;class i{}return(e=i).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,It,s.UX,s.u5]}),i})()}}]);